<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	  <th:block th:include="adminfragment/headerlibs.html :: headerlibs"></th:block> 
	</head>

    <body class="fixed-left">
     
    <span th:if="${Rejuvination != null && Rejuvination == 'Rejuvination' }"> 
    
        <!-- Begin page -->
        <div id="wrapper">
        
            <!-- Top Bar Start -->
           <header th:insert="adminfragment/header.html :: header"> </header>
            <!-- Top Bar End -->


            <!-- ========== Left Sidebar Start ========== -->
			<header th:insert="adminfragment/sidenav.html :: sidevav"> </header>
            <!-- Left Sidebar End --> 
            
  
             <!-- Start right Content here -->
            <!-- ============================================================== -->                      
            <div class="content-page">
                <!-- Start content -->
                <div class="content">
                    <div class="container">

                        <!-- Page-Title -->
                        <div class="row">
                            <div class="col-sm-12">
                                <h4 class="pull-left page-title"></h4>
                                <ol class="breadcrumb pull-right">
                                    
                                     <button action="action" type="button" onclick="history.go(-1);" class="btn btn-purple waves-effect waves-light btn-xs m-b-5">Back</button>
                                    
                                </ol>
                            </div>
                        </div>
            
            
            
            
            <div class="row">
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading"><h3 class="panel-title">Rejuvenation Edit</h3></div>
                                     <!-- <span th:if="${actd_viewtrue != null && actd_viewtrue == 'valpresent' }"> -->
									
          <div class="panel-body">
          
<style>
.text_box_disp{
	display:none;
}
</style>

 <form class="form-horizontal active" role="form" th:action="@{/rejuvenation}" th:object="${rejuvenation}" method="post" id="form_rej_edit" name="form_rej_edit" onsubmit = "return validaterejuvedit();">                                      
									 
		<div class="panel panel-success">
		<div class="panel-heading">Rejuvenation</div>
		<div class="panel-body">
		
		<div class="form-group">
        <label class="col-md-2 control-label" > </label>
        <div class="col-md-10">
            <input type="text" th:field="*{id}" id="id" th:name="id" readonly="readonly"  hidden="true"/>
            
        </div>
        </div>

			<div class="form-group">
            <label class="col-md-2 control-label" > </label>
            <div class="col-md-10">
			<input type="text" id="applicationid" th:field="*{applicationid}" th:name="applicationid"  th:value="${applicationid}" hidden="true" />
            </div>
           </div>
														
		<div class="form-group">
		<div class="table-responsive col-sm-12">
		<table class="table table-striped  table-bordered table-hover">
		<!--Table head-->
		<tbody>
			<tr>
				<td>Type of Variety</td>
				<td>
					 
					<div class="col-md-9" th:each="list : ${CandidateVariety}">
					 <input class="otherEvent" type="checkbox"   id="checkbox" name="checkbox" th:text="${list.candidate_variety}" th:value="${list.id}" /><br>
				</div>
				<div class="text_box_disp" id="other_text_div" style="display:none">
						<div class="col-md-6">
							<input type="text" class="form-control" id ="othervalue" name="othervalue" >
						</div>
					</div>
				 </td>
				
			</tr>
			<tr>
				<td>Date</td>
				<td>
				<input type="date"  name="date_rejuvenation" th:field="*{date_rejuvenation}" id="date_rejuvenation" class="form-control" />
					<span id="date_error" style="color:red"></span>
					</td>
			</tr>
			
		</tbody>
	    </table>
	    </div>
			<div class="table-responsive col-sm-12">
				<table class="table table-striped  table-bordered table-hover">
					<!--Table head-->
				<thead>
					<tr></tr>
				</thead>
				<!--Table head-->
			
				<!--Table body-->
				<tbody>
					
					<tr class="table-info">
					<td>Line Type</td>
					<td> 
					<select  th:field="*{type_line}" class="form-control" name="type_line" id="type_line">
				    <option th:value="-1" >Select</option>
		            <option th:each="dropDownItem : ${TypeLine}"
		               th:value="${dropDownItem.id}"
		               th:text="${dropDownItem.code}" />
		        	</select>
		        	<span id="type_lineerror" style="color:red"></span>
				  	 </td>
					</tr>
					
					<tr class="table-info">
						<td>Denomination </td>
						<td><input type="text"  th:field="*{denomination}" class="form-control" name="denomination" id="denomination"></td>
					</tr>
					
					<tr class="table-info">
						<td>Quantity</td>
						<td><input type="text"  class="form-control" th:field="*{quantity}" name="quantity" id="quantity"></td>
					</tr>
					
					<tr class="table-info">
						<td>Place</td>
						<td><input type="text"  class="form-control" th:field="*{place}" name="place" id="place"></td>
					</tr>
					
					<tr class="table-info">
						<td>Findings</td>
						<td><input type="text" class="form-control" th:field="*{findings}" name="findings" id="findings"></td>
					</tr>
					
					<tr class="table-info">
						<td>No. of packets added to MTS</td>
						<td><input type="text"  class="form-control" th:field="*{no_of_packets_added_mts}" name="no_of_packets_added_mts" id="no_of_packets_added_mts"></td>
					</tr>
					
					<tr class="table-info">
						<td>Total packets in MTS</td>
						<td>
							<input type="text"  class="form-control" th:field="*{total_packets_mts}" name="total_packets_mts" id="total_packets_mts">
						</td>
					</tr>
					
					
				</tbody>
			</table>
			<div class="form-group m-b-0">
															<label class="col-md-3 control-label">&nbsp;</label>
															<div class="col-sm-7">
															<!-- <span th:if="${role_granted != 'Super Administrator' && role_granted != 'PPVFRA Admin'}">
															 -->
															 <span>
															 <span th:if="${sub15 == 'addpresent'}">
																<button type="submit" class="btn btn-info waves-effect waves-light">Save</button>
															</span>
															</span>
															</div>
															
														</div>
			
																	
			</div>
			</div>
			</div>
			</div>
			</form>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
		
	<script type="text/javascript">
$(document).on('click','.otherEvent',function(){
	var value = $(this).val();
	
	$(".text_box_disp").hide();
	var checkval  = $(this).is(":checked");
	if(value ==4 && checkval )   
        $(".text_box_disp").show();
    else
        $(".text_box_disp").hide();
});
 </script>
 
                                    </div> <!-- panel-body -->
                                    
                                    <!-- </span>
                                    <span th:unless="${actd_viewtrue != null && actd_viewtrue == 'valpresent' }">
									 <label>YOU ARE NOT AUTHORISED TO VIEW THIS PAGE.PLEASE CONTACT ADMINISTRATOR</label>
									 </span> -->
                                </div> <!-- panel -->
                            </div> <!-- col -->
                        </div> <!-- End row -->

                    </div> <!-- container -->
                               
                </div> <!-- content -->
<!-- 
                <footer class="footer text-right">
                    2019 © PPVFRA.
                </footer> -->

            </div>
            <!-- ============================================================== -->
            <!-- End Right content here -->
           
           
          <div th:replace="adminfragment/footer.html :: footer"></div>
           </div> <!-- container -->
                               
                <!-- content -->

			<!-- start footer content here -->
			
			<!-- end footer content here -->

      
        <!-- END wrapper -->

<!-- footer lib start here-->

<div th:replace="adminfragment/footerlibs.html :: footerlibs"></div>
<!-- end footer lib -->
 <script type="text/javascript" th:inline="javascript">
document.onload=fetchvarietyval();    
function fetchvarietyval() 
        {  
    	  var moduledata= document.getElementById("id");
    	  var moduledata2 = document.getElementsByName("checkbox");
    	
    	  for (var unchk=0; unchk< moduledata2.length; unchk++)
   	    	 {
   	    	 moduledata2[unchk].checked=false;
   	    	 }
   	       
   	       if(moduledata.value != null)		 
   	        	$.ajax(
   	        			{
   	                type: "POST",
   	                url: "/ppvfra/getvarietyval",
   	                data: 'id='+moduledata.value,
   	                success: function (response) {
   	                if(response.length != null)
   	                {  
                	  for (var i=0;i<response.length;i++)
                	  {
                		 
                    	var str = response[i].toString();
                    	for (var k=0; k<moduledata2.length; k++)	 
             			 {
                    		
                    		var roleval = moduledata2[k].value;
                    		var text=document.getElementById("othervalue");
                    	   var a=str.split(",");
                    	   if(a[0]=="4")
                    		{
                    		   
                        	   if (a[0] == roleval)
                        	    {
                        			moduledata2[k].checked = true;
                        			document.getElementById("othervalue").value=a[1];
                        			document.getElementById("other_text_div").disabled=false;
                        	    }
                    		}else if (a[0] == roleval)
                    	    {
                    			moduledata2[k].checked = true;
                    			
                    	    }
                		}
                	  }
                	} 
                	
											}
					});
        }
</script> 	
	
	
	<script type = "text/javascript">
      function validaterejuvedit() {
    	 // alert(document.getElementById("type_line").value);
    	  if( document.form_rej_edit.type_line.value == "-1") 
    	  {
    		 document.getElementById("type_lineerror").innerHTML="Please select typeline";
               document.getElementById("type_line").focus() ;
               return false;
            } 
    	  if(document.form_rej_edit.date_rejuvenation.value == "")
    			  {
    		  document.getElementById("date_error").innerHTML="Please select date";
              document.getElementById("date_rejuvenation").focus() ;
              return false;
    			  }
    	  
    	     return true;
    	}
      </script>
   </span>
<span th:unless="${Rejuvination != null && Rejuvination == 'Rejuvination' }">
 <label>YOU ARE NOT AUTHORISED TO VIEW THIS PAGE.PLEASE CONTACT ADMINISTRATOR</label>
 </span>  
</body>
</html>