             
  <!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	  <th:block th:include="adminfragment/headerlibs.html :: headerlibs"></th:block> 
	</head>

    <body class="fixed-left">
        <!-- Begin page -->
        <div id="wrapper">
        
            <!-- Top Bar Start -->
           <header th:insert="adminfragment/header.html :: header"> </header>
            <!-- Top Bar End -->


            <!-- ========== Left Sidebar Start ========== -->
			<header th:insert="adminfragment/sidenav.html :: sidevav"> </header>
            <!-- Left Sidebar End --> 

  
           
            <!-- Start right Content here -->                    
                 <div class="content-page">
                <!-- Start content -->
                <div class="content">
                    <div class="container">

                        <!-- Page-Title -->
                        <div class="row">
                            <div class="col-sm-12">
                                <h4 class="pull-left page-title">Master</h4>
                                <ol class="breadcrumb pull-right">
                                    <li><a href="/admin">Home</a></li>
                                    <li class="active">Add crop group</li>
                                    <li>
                                            <a href="getcropgroup" class="btn btn-purple waves-effect waves-light btn-xs m-b-5"><b>Back</b></a>
                                    </li>
                                </ol>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading"><h3 class="panel-title">Add Crop group</h3></div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" th:action="@{/addcropgroupmethod}" th:object="${addcropgroup}" method="post" role="form" id="register-form1">                                    
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Crop Group Name</label>
                                                <div class="col-sm-6">
                                                    <input type="text" id="crop_groupfeild"  onblur='javascript:cropgroupchks()' class="form-control" data-remote-error="Crop Group already exists." th:field="*{crop_group}" placeholder="Enter the Crop Group">
                                                    <div class="error" th:if="${#fields.hasErrors('crop_group')}" th:errors="*{crop_group}">Crop_Group Error</div>
                                                    <div class="error" id="cropgrouperror"></div>
                                                </div>
                                            </div>
					                                           
					             <div class="form-group">
					                <label class="col-sm-2 control-label">Status</label>
					                <div class="col-sm-6">
					                  <select class="form-control" th:field="*{status}">
					                 <option th:value="active" th:text = "Active"></option>
					                 <option th:value="inactive" th:text="Inactive"></option>
					             </select>
					                </div>
					            </div>
                                           
                                          
                                            <div class="form-group m-b-0">
                                                <div class="col-sm-offset-2 col-sm-9">
                                                    <button id="btnsubmitcgp" type="submit" class="btn btn-info waves-effect waves-light">Submit</button>
                                                </div>
                                            </div>
                                                                       
                                        </form>
                                    </div> <!-- panel-body -->
                                </div> <!-- panel -->
                            </div> <!-- col -->
                        </div> <!-- End row -->

                    </div> <!-- container -->
                               
                </div> <!-- content -->

               

            </div>
            <!-- End Right content here -->
 <div th:replace="adminfragment/footer.html :: footer"></div>
           </div> <!-- container -->
                               
                <!-- content -->

			<!-- start footer content here -->
			
			<!-- end footer content here -->

      
        <!-- END wrapper -->

<!-- footer lib start here-->

<div th:replace="adminfragment/footerlibs.html :: footerlibs"></div>
<!-- end footer lib -->


<script type="text/javascript">
        function cropgroupchks() {
            var crop_group=document.getElementById("crop_groupfeild").value;
            var bt=document.getElementById("btnsubmitcgp").value;
           //alert(crop_group);
            $.ajax({
                type: "POST",
                url: "/ppvfra/check_cropgroup",
                data:crop_group,
                contentType:'application/json',
                success: function (data) {
                if(data == 'taken')
				{
                //crop group not available.
        		document.getElementById("cropgrouperror").innerHTML = " <font color='red'>crop group is already present.</font>";
       			document.forms["register-form1"]["crop_groupfeild"].focus();
       			document.getElementById("btnsubmitcgp").disabled = true; 
       			return false;
                }
				else if (data == 'not taken') 
				{
				document.getElementById("cropgrouperror").innerHTML = " ";
				document.getElementById("btnsubmitcgp").disabled = false; 
				return true;
                    }   
                }
            }); 
  }
    </script>


</body>
</html>